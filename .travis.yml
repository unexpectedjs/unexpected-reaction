language: node_js

env:
  - TARGET=test

node_js:
  - "10"
  - "12"
  - "14"

matrix:
  include:
    - name: Lint
      node_js: "12"
      env:
        - TARGET=lint
    - name: Documentation
      node_js: "12"
      env:
        - TARGET=test-docs
    - name: Jest
      node_js: "12"
      env:
        - TARGET=test-jest
    - name: BrowserStack IE11
      node_js: "12"
      env:
        - TARGET=test-browser
        - BROWSER=ie11
    - name: Chrome headless
      node_js: "12"
      env:
        - TARGET=test-headless
        - BROWSER=ChromeHeadless

addons:
  chrome: stable

script: npm run $TARGET
